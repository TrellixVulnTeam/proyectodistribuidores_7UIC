{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nexport const useFetch = url => {\n  _s();\n\n  const isMounted = useRef(true);\n  const [state, setState] = useState({\n    data: null,\n    loading: true,\n    error: null\n  });\n  useEffect(() => {\n    //SE MONTA\n    return () => {\n      //SE DESMONTA\n      isMounted.current = false;\n    };\n  }, []);\n  useEffect(() => {\n    setState({\n      data: null,\n      loading: true,\n      error: null\n    });\n    fetch(url).then(resp => resp.json()).then(data => {\n      setTimeout(() => {\n        if (isMounted.current) {\n          setState({\n            loading: false,\n            error: null,\n            data\n          });\n        }\n      }, 1000);\n    });\n  }, [url]);\n  return state;\n};\n\n_s(useFetch, \"BRA5ll2yzl9Y85qcZB9Rg5CjR1Q=\");","map":{"version":3,"sources":["C:/Users/sergi/Documents/main/src/hooks/useFetch.js"],"names":["React","useEffect","useRef","useState","useFetch","url","isMounted","state","setState","data","loading","error","current","fetch","then","resp","json","setTimeout"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,MAA3B,EAAmCC,QAAnC,QAAmD,OAAnD;AAIA,OAAO,MAAMC,QAAQ,GAAGC,GAAD,IAAQ;AAAA;;AAC1B,QAAMC,SAAS,GAAGJ,MAAM,CAAC,IAAD,CAAxB;AACA,QAAM,CAACK,KAAD,EAAQC,QAAR,IAAmBL,QAAQ,CAAC;AAACM,IAAAA,IAAI,EAAE,IAAP;AAAaC,IAAAA,OAAO,EAAE,IAAtB;AAA4BC,IAAAA,KAAK,EAAE;AAAnC,GAAD,CAAjC;AAEFV,EAAAA,SAAS,CAAC,MAAI;AACP;AAEF,WAAO,MAAI;AACT;AACCK,MAAAA,SAAS,CAACM,OAAV,GAAkB,KAAlB;AACF,KAHD;AAKJ,GARQ,EAQN,EARM,CAAT;AAYAX,EAAAA,SAAS,CAAC,MAAI;AACbO,IAAAA,QAAQ,CAAC;AAACC,MAAAA,IAAI,EAAE,IAAP;AAAaC,MAAAA,OAAO,EAAE,IAAtB;AAA4BC,MAAAA,KAAK,EAAE;AAAnC,KAAD,CAAR;AACCE,IAAAA,KAAK,CAACR,GAAD,CAAL,CACCS,IADD,CACMC,IAAI,IAAEA,IAAI,CAACC,IAAL,EADZ,EAECF,IAFD,CAEML,IAAI,IAAI;AAGbQ,MAAAA,UAAU,CAAC,MAAK;AACd,YAAGX,SAAS,CAACM,OAAb,EAAqB;AACnBJ,UAAAA,QAAQ,CAAC;AACPE,YAAAA,OAAO,EAAE,KADF;AAEPC,YAAAA,KAAK,EAAE,IAFA;AAGPF,YAAAA;AAHO,WAAD,CAAR;AAKH;AACA,OARS,EAQP,IARO,CAAV;AAUA,KAfD;AAgBD,GAlBQ,EAkBN,CAACJ,GAAD,CAlBM,CAAT;AAoBA,SAAOE,KAAP;AAEF,CAtCM;;GAAMH,Q","sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\r\n\r\n\r\n\r\nexport const useFetch =(url)=> {\r\n     const isMounted = useRef(true);\r\n     const [state, setState]= useState({data: null, loading: true, error: null })\r\n\r\n   useEffect(()=>{\r\n          //SE MONTA\r\n\r\n        return ()=>{\r\n          //SE DESMONTA\r\n           isMounted.current=false;\r\n        }\r\n   \r\n   }, [])\r\n\r\n\r\n\r\n   useEffect(()=>{\r\n    setState({data: null, loading: true, error: null})\r\n     fetch(url)\r\n     .then(resp=>resp.json())\r\n     .then(data => {\r\n\r\n\r\n      setTimeout(()=> {\r\n        if(isMounted.current){\r\n          setState({\r\n            loading: false,\r\n            error: null,\r\n            data\r\n        });\r\n      }\r\n      }, 1000)\r\n         \r\n     })\r\n   }, [url])\r\n     \r\n   return state;\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"module"}